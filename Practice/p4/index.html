<html>
<head>
    <title>Shopping Cart</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style/style.css">

</head>

<body>
    <h1> Spring Break Shopping  </h1>

    <table>
    <tr>
        <th>Product</th>
        <th>Unit <br> Price</th>
        <th> Quantity </th>
        <th>Total</th>
    </tr>
    <tr>
        <td id="bTowel">Microfiber Beach Towel</td>
        <td>$30</td>
        <td><input type="text" id="towel" size="5"></td>
        <td id= "totalTowel"></td>
    </tr>

   <tr>
        <td >Sunscreen 100SPF, 120ml</td>
        <td>$10</td>
         <td><input type="text" id="sunscreen" size="5"></td>
        <td id= "totalSuns"></td>

        <td></td>
    </tr>    
    
    <tr>
        <td >Ipanema Flip-flop Sandals </td>
        <td>$20</td>
         <td><input type="text" id="sandals" size="5"></td>
        <td id= "totalSandal"></td>
        <td></td>
    </tr>

   <tr>
        <td>Shipping</td>
        <td></td>
        
        <td></td>
        <td id="shipping"></td>
    </tr>    
        
    <tr>
        <td>Subtotal</td>
        <td></td>
        <td></td>
        <td id="subtotal"></td>
    </tr>             
        
    <tr>
        <td>Tax (10%)</td>
        <td></td>
        <td></td>
        <td id="tax"></td>
    </tr>
    
    <tr>
        <td>Total</td>
        <td></td>
        <td></td>
        <td id="total"></td>
    </tr>
       
    </table>
    
    <h3>Shipping & Handling</h3>
    <select id="shipping_handling">
        <!--Next-day Delivery: $15.00 Three-day Delivery: $10.00 Regular (5-8 days): $ 5.00-->

        <option value="none">Select one</option>
        <option value ="nextD">Next-day Delivery: $15.00</option>
        <option value="threeD">Three-day Delivery: $10.00</option>
        <option value ="regular">Regular (5-8 days): $ 5.00</option>
    </select>
    <span id="shippingError" style="color: red;">A shipping option must be selected</span>
    <br><br>
        <input type="checkbox" id="confirmMsg" name="purchase" value="terms"><span id="confirmMsgText">I accept the terms of this purchase.</span><br>
            <!--<span id="purchaseMsg">I accept the terms of this purchase.</span>-->
    <br> 
    
    <button id="confirm">"CONFIRM PURCHASE"</button>
    <h2 id="purchaseMsg"></h2>
    <script>
        $(document).ready(function(){
            $("#shippingError").hide();
        });
    
        $("#confirm").click(function(){
            console.log($("#confirmMsg").is(":checked"));
          
            if($("#confirmMsg").is(':checked')){

                $("#confirmMsgText").css("color", "black"); 
            }else{

                $("#confirmMsgText").css("color", "red"); 
            }
            
            if($("#shipping_handling").val() == "none"){
                // put error message
                $("#shippingError").show();
            }else{
                $("#shippingError").hide();

            }
            
            if($("#confirmMsg").is(':checked') && $("#shipping_handling").val() != "none" ){
                $("#purchaseMsg").html("THANK YOU FOR YOUR PURCHASE!");
            }else{
                $("#purchaseMsg").html("");
            }
        });
        
        var totalT = 0;
        var totalSan = 0;
        var totalS = 0;
        var subtotal = 0;
        var tax = 0;
        var total = 0;
        var shipping = 0;
        
            // $("#shipping_handling").change(function(){
            //      if($("#shipping_handling").val() == "nextD"){
            //     shipping = 15; 
            //  }
            //  else if($("#shipping_handling").val() == "threeD"){
            //      shipping=10;
            //  }
            //  else if($("#shipping_handling").val() == "regular"){
            //      shipping=5;
            //  }else {
            //      shipping = 0;
            //  }
            // })
        
         
        $("#towel").on('input',function(e){
            
             totalT= $("#towel").val()*30;
            $("#totalTowel").html("$"+totalT);
            subtotal= totalS+totalSan+totalT;
            tax= subtotal*.10;
            total= tax+subtotal+shipping;
            
            $("#subtotal").html("$"+subtotal);
             $("#tax").html("$"+tax);
            $("#total").html("$"+total);


             

        })
         $("#sunscreen").on('input',function(e){
             totalS= $("#sunscreen").val()*10;

            $("#totalSuns").html("$"+totalS);
            subtotal= totalS+totalSan+totalT;
             tax= subtotal*.10;
            total= tax+subtotal+shipping;

              $("#subtotal").html("$"+subtotal);
            $("#tax").html("$"+tax);
            $("#total").html("$"+total);


        })
        
        $("#sandals").on('input',function(e){
             totalSan= $("#sandals").val()*20;

            $("#totalSandal").html("$"+totalSan);
            subtotal= totalS+totalSan+totalT;
             tax= subtotal*.10;
            total= tax+subtotal+shipping;
            
            $("#subtotal").html("$"+subtotal);
            $("#tax").html("$"+tax);
            $("#total").html("$"+total);
            // $("#tax").html("$"+tax);
            // $("#total").html("$"+total);
            

        })
        
        $("#shipping_handling").change(function(){
                 if($("#shipping_handling").val() == "nextD"){
                shipping = 15; 
             }
             else if($("#shipping_handling").val() == "threeD"){
                 shipping=10;
             }
             else if($("#shipping_handling").val() == "regular"){
                 shipping=5;
             }
             else{
                 shipping =0;
             }
            total= tax+subtotal+shipping;

             $("#subtotal").html("$"+subtotal);
            $("#tax").html("$"+tax);
            $("#total").html("$"+total);
            $("#shipping").html("$"+shipping);
            })
        
    </script>
</body>
</html>